# StatusMonitor

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![C++](https://img.shields.io/badge/C%2B%2B-17-blue.svg)
![CMake](https://img.shields.io/badge/CMake-3.10+-blue.svg)

StatusMonitor - —ç—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Linux. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–∏–æ–¥–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–ø–æ—Å–æ–±–∞ –∏—Ö –≤—ã–≤–æ–¥–∞. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –º–µ—Ç—Ä–∏–∫.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (–≤—Å–µ—Ö —è–¥–µ—Ä –∏–ª–∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ)
- üíæ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
- ‚öôÔ∏è –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ JSON —Ñ–∞–π–ª
- üìù –í—ã–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Å–æ–ª—å –∏/–∏–ª–∏ —Ñ–∞–π–ª
- üîÑ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –ø–µ—Ä–∏–æ–¥ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- üõ†Ô∏è –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Linux OS
- CMake 3.10 –∏–ª–∏ –≤—ã—à–µ
- C++17 —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä (GCC 7+ –∏–ª–∏ Clang 5+)
- Google Test (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/FFG99/statusMonitor
cd statusMonitor
```

2. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–±–æ—Ä–∫—É:

```bash
mkdir build
cd build
cmake ..
make
```

## üèÉ‚Äç‚ôÇÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON —Ñ–∞–π–ª –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

```json
{
    "settings": {
        "period": 5
    },
    "metrics": [
        {
            "type": "cpu",
            "cpu_ids": [0, 1, 2, 3]
        },
        {
            "type": "memory",
            "spec": ["MemTotal", "MemFree", "MemAvailable"]
        }
    ],
    "outputs": [
        {
            "type": "console"
        },
        {
            "type": "file",
            "path": "system_metrics.log"
        }
    ]
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- **settings.period**: –ü–µ—Ä–∏–æ–¥ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (—Ü–µ–ª–æ–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ).
- **metrics**: –ú–∞—Å—Å–∏–≤ –º–µ—Ç—Ä–∏–∫ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
  - **type**: –¢–∏–ø –º–µ—Ç—Ä–∏–∫–∏ ("cpu" –∏–ª–∏ "memory").
  - **cpu_ids**: (—Ç–æ–ª—å–∫–æ –¥–ª—è CPU) –ú–∞—Å—Å–∏–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —è–¥–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
  - **spec**: (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–∞–º—è—Ç–∏) –ú–∞—Å—Å–∏–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–º—è—Ç–∏ –∏–∑ "/proc/meminfo" –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "MemTotal", "MemFree", "MemAvailable").
- **outputs**: –ú–∞—Å—Å–∏–≤ –≤—ã—Ö–æ–¥–æ–≤ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö.
  - **type**: –¢–∏–ø –≤—ã—Ö–æ–¥–∞ ("console" –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å, "file" –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª).
  - **path**: (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∏–ø–∞ "file") –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–ª—è –∑–∞–ø–∏—Å–∏.

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

```bash
./status_monitor /path/to/config.json
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏

### CPU

- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —è–¥–µ—Ä
- –í—ã–≤–æ–¥ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–∞–º—è—Ç—å

- –û–±—â–∏–π –æ–±—ä–µ–º –ø–∞–º—è—Ç–∏
- –°–≤–æ–±–æ–¥–Ω–∞—è –ø–∞–º—è—Ç—å
- –î–æ—Å—Ç—É–ø–Ω–∞—è –ø–∞–º—è—Ç—å
- –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ú–ë

## üìù –ö–∞–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .json** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `config.json`).
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–∏–æ–¥ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫**:

   ```json
   "settings": {
       "period": 5
   }
   ```

   –ó–¥–µ—Å—å `5` - —ç—Ç–æ –ø–µ—Ä–∏–æ–¥ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö –º–µ–∂–¥—É —Å–±–æ—Ä–∞–º–∏ –º–µ—Ç—Ä–∏–∫.
3. **–î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**:

   - –î–ª—è CPU:

     ```json
     {
         "type": "cpu",
         "cpu_ids": [0, 1, 2, 3]
     }
     ```

     –ó–¥–µ—Å—å `cpu_ids` - —ç—Ç–æ –º–∞—Å—Å–∏–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —è–¥–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å.
   - –î–ª—è –ø–∞–º—è—Ç–∏:

     ```json
     {
         "type": "memory",
         "spec": ["MemTotal", "MemFree", "MemAvailable"]
     }
     ```

     –ó–¥–µ—Å—å `spec` - —ç—Ç–æ –º–∞—Å—Å–∏–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å.
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—ã—Ö–æ–¥—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö**:

   - –î–ª—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å:

     ```json
     {
         "type": "console"
     }
     ```
   - –î–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª:

     ```json
     {
         "type": "file",
         "path": "system_metrics.log"
     }
     ```

     –ó–¥–µ—Å—å `path` - —ç—Ç–æ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –º–µ—Ç—Ä–∏–∫–∏.
5. **–û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –≤—Å–µ —á–∞—Å—Ç–∏ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª**:

   ```json
   {
       "settings": {
           "period": 5
       },
       "metrics": [
           {
               "type": "cpu",
               "cpu_ids": [0, 1, 2, 3]
           },
           {
               "type": "memory",
               "spec": ["MemTotal", "MemFree", "MemAvailable"]
           }
       ],
       "outputs": [
           {
               "type": "console"
           },
           {
               "type": "file",
               "path": "system_metrics.log"
           }
       ]
   }
   ```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
cd build
make metrics_test outputs_test
ctest
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –º–µ—Ç—Ä–∏–∫

```bash
cd build
make metrics_test
./metrics_test
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤—ã—Ö–æ–¥–æ–≤

```bash
cd build
make outputs_test
./outputs_test
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
statusMonitor/
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îú‚îÄ‚îÄ metrics/     # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ output/      # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –≤—ã–≤–æ–¥–∞
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ metrics/     # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ output/      # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–æ–≤
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ metrics/     # –¢–µ—Å—Ç—ã –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ output/      # –¢–µ—Å—Ç—ã –≤—ã–≤–æ–¥–æ–≤
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îî‚îÄ‚îÄ README.md
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).
